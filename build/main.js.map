{
  "version": 3,
  "sources": ["../src/main.ts"],
  "sourcesContent": ["/*\n * Created with @iobroker/create-adapter v2.5.0\n */\n\n// The adapter-core module gives you access to the core ioBroker functions\n// you need to create an adapter\nimport * as utils from '@iobroker/adapter-core';\nimport io_package from '../io-package.json';\nimport axios from 'axios';\nimport 'source-map-support/register';\nimport { dwdWarncellIdLong } from './lib/def/dwdWarncellIdLong';\nimport { ProviderController } from './lib/provider.js';\nimport { Library } from './lib/library.js';\nimport * as messagesDef from './lib/def/messages-def';\nimport { messageFilterTypeWithFilter, providerServices, providerServicesArray } from './lib/def/provider-def';\nimport * as NotificationType from './lib/def/notificationService-def';\nimport { notificationServiceDefaults } from './lib/def/notificationConfig-d';\naxios.defaults.timeout = 8000;\n// Load your modules here, e.g.:\n// import * as fs from \"fs\";\n\nclass WeatherWarnings extends utils.Adapter {\n    library: Library;\n    providerController: ProviderController | null = null;\n    numOfRawWarnings: number = 5;\n    adminTimeoutRef: any = null;\n    public constructor(options: Partial<utils.AdapterOptions> = {}) {\n        super({\n            ...options,\n            name: 'weather-warnings',\n        });\n        this.on('ready', this.onReady.bind(this));\n        this.on('stateChange', this.onStateChange.bind(this));\n        this.on('objectChange', this.onObjectChange.bind(this));\n        this.on('message', this.onMessage.bind(this));\n        this.on('unload', this.onUnload.bind(this));\n        this.library = new Library(this);\n        this.providerController = new ProviderController(this);\n    }\n\n    /**\n     * Is called when databases are connected and adapter received configuration.\n     */\n    private async onReady(): Promise<void> {\n        if (!this.providerController) {\n            throw new Error('Provider controller doesnt exists.');\n        }\n        this.subscribeForeignObjects('system.config');\n\n        // dynamic create of configuration datapoint.\n        if (!Array.isArray(this.config.allowedDirs)) this.config.allowedDirs = [];\n        let i = 0;\n        let change = false;\n        let allowedDirsConfig = {};\n        while (i++ < 2) {\n            const allowedDirs = this.config.allowedDirs;\n\n            for (const a in providerServicesArray) {\n                let hit = -1;\n                for (const b in allowedDirs) {\n                    if (\n                        allowedDirs[b].providerService == providerServicesArray[a].replace('Service', '').toUpperCase()\n                    ) {\n                        hit = Number(b);\n                        break;\n                    }\n                }\n                if (hit == -1) {\n                    change = true;\n                    this.config.allowedDirs.push({\n                        providerService: providerServicesArray[a].replace('Service', '').toUpperCase(),\n                        dpWarning: true,\n                        dpMessage: true,\n                        dpFormated: true,\n                        dpAlerts: true,\n                    });\n                }\n                //@ts-expect-error dann so\n                allowedDirsConfig[providerServicesArray[a]] =\n                    this.config.allowedDirs[hit == -1 ? this.config.allowedDirs.length - 1 : hit];\n            }\n            if (providerServicesArray.length != this.config.allowedDirs.length) {\n                this.config.allowedDirs = [];\n                allowedDirsConfig = {};\n                change = false;\n                continue;\n            }\n            break;\n        }\n        if (change) {\n            const obj = await this.getForeignObjectAsync(`system.adapter.${this.name}.${this.instance}`);\n            if (obj && obj.native) {\n                obj.native.allowedDirs = this.config.allowedDirs;\n                await this.setForeignObjectAsync(`system.adapter.${this.name}.${this.instance}`, obj);\n                this.log.warn('Fixed configuration for allowed datapoints! ');\n            }\n        }\n        try {\n            //const states = await self.getStatesAsync('*');\n            await this.library.init();\n            await this.library.initStates(await this.getStatesAsync('*'));\n            await this.library.initStates((await this.getChannelsAsync()) as any);\n        } catch (error) {\n            this.log.error(`catch(1): init error while reading states! ${error}`);\n        }\n\n        const config = await this.getForeignObjectAsync(`system.adapter.${this.name}.${this.instance}`);\n\n        //create alexa sound array\n\n        let sounds = this.config.alexa2_sounds || [];\n        if (!sounds || !Array.isArray(sounds)) sounds = [];\n        for (const w in messagesDef.genericWarntyp) {\n            const index = sounds.findIndex(\n                (a: { warntype: string; sound: string; warntypenumber: number }) => a.warntypenumber == Number(w),\n            );\n            if (index != -1) {\n                sounds[index].warntype = await this.library.getTranslation(\n                    messagesDef.genericWarntyp[Number(w) as keyof messagesDef.genericWarntypeType].name,\n                );\n            } else {\n                sounds.push({\n                    warntypenumber: Number(w),\n                    warntype: await this.library.getTranslation(\n                        messagesDef.genericWarntyp[Number(w) as keyof messagesDef.genericWarntypeType].name,\n                    ),\n                    sound: '',\n                });\n            }\n        }\n        const index = sounds.findIndex(\n            (a: { warntype: string; sound: string; warntypenumber: number }) => a.warntypenumber == Number(0),\n        );\n        if (index == -1) {\n            sounds.push({\n                warntypenumber: Number(0),\n                warntype: await this.library.getTranslation('template.RemoveAllMessage'),\n                sound: '',\n            });\n        } else {\n            sounds[index].warntype = await this.library.getTranslation('template.RemoveAllMessage');\n        }\n        this.config.alexa2_sounds = sounds;\n\n        await this.extendForeignObjectAsync(`system.adapter.${this.namespace}`, {\n            native: { alexa2_sounds: sounds },\n        });\n\n        /** write default templates to config if template 0 == translation token */\n        if (\n            config &&\n            config.native &&\n            config.native.templateTable[0] &&\n            config.native.templateTable[0].template == 'template.NewMessage'\n        ) {\n            this.log.info(`First start after installation detected.`);\n            const templateTable: any = this.library.cloneGenericObject(config.native.templateTable);\n            for (const a in config.native.templateTable) {\n                templateTable[a as keyof typeof this.config.templateTable].template = await this.library.getTranslation(\n                    config.native.templateTable[a].template,\n                );\n                this.log.debug(\n                    `Read default template from i18n: ${await this.library.getTranslation(\n                        config.native.templateTable[a].template,\n                    )}`,\n                );\n            }\n            this.config.templateTable = templateTable;\n            this.log.info(`Write default templates to config for ${this.namespace}!`);\n            await this.extendForeignObjectAsync(`system.adapter.${this.namespace}`, {\n                native: { templateTable: templateTable },\n            });\n        }\n\n        setTimeout(\n            async function (that: any) {\n                const self = that as WeatherWarnings;\n                if (!self) return;\n                if (!self.providerController) return;\n                self.providerController.setAllowedDirs(allowedDirsConfig);\n\n                self.providerController.init();\n                self.log.info(`Refresh Interval: ${self.providerController.refreshTime / 60000} minutes`);\n\n                const notificationServiceOpt: NotificationType.OptionsType = {};\n                for (const a in NotificationType.Array) {\n                    const notificationService = NotificationType.Array[a] as NotificationType.Type;\n                    if (self.config[(notificationService + '_Enabled') as keyof ioBroker.AdapterConfig]) {\n                        const service: providerServices[] = [];\n                        if (self.config[(notificationService + '_DwdEnabled') as keyof ioBroker.AdapterConfig])\n                            service.push('dwdService');\n                        if (self.config[(notificationService + '_UwzEnabled') as keyof ioBroker.AdapterConfig])\n                            service.push('uwzService');\n                        if (self.config[(notificationService + '_UwzEnabled') as keyof ioBroker.AdapterConfig])\n                            service.push('zamgService');\n                        const template: NotificationType.ActionsType = {\n                            new:\n                                self.config[(notificationService + '_MessageNew') as keyof ioBroker.AdapterConfig] !==\n                                undefined\n                                    ? (self.config[\n                                          (notificationService + '_MessageNew') as keyof ioBroker.AdapterConfig\n                                      ] as string)\n                                    : '',\n                            remove: self.config[\n                                (notificationService + '_MessageRemove') as keyof ioBroker.AdapterConfig\n                            ] as string,\n                            removeAll: self.config[\n                                (notificationService + '_MessageAllRemove') as keyof ioBroker.AdapterConfig\n                            ] as string,\n                            all:\n                                self.config[(notificationService + '_MessageAll') as keyof ioBroker.AdapterConfig] !==\n                                undefined\n                                    ? (self.config[\n                                          (notificationService + '_MessageAll') as keyof ioBroker.AdapterConfig\n                                      ] as string)\n                                    : '',\n                            manualAll:\n                                self.config[(notificationService + '_manualAll') as keyof ioBroker.AdapterConfig] !==\n                                undefined\n                                    ? (self.config[\n                                          (notificationService + '_manualAll') as keyof ioBroker.AdapterConfig\n                                      ] as string)\n                                    : '',\n                        };\n                        template.new = template.new ? template.new : 'none';\n                        template.remove = template.remove ? template.remove : 'none';\n                        template.removeAll = template.removeAll ? template.removeAll : 'none';\n                        template.all = template.all ? template.all : 'none';\n                        template.manualAll = template.manualAll ? template.all : 'none';\n                        // @ts-expect-error keine ahnung :)\n                        notificationServiceOpt[notificationService] = {\n                            ...notificationServiceDefaults[notificationService],\n                            service: service,\n                            filter: {\n                                auto: {\n                                    level: self.config[\n                                        (notificationService + '_LevelFilter') as keyof ioBroker.AdapterConfig\n                                    ] as number,\n                                    type: (\n                                        self.config[\n                                            (notificationService + '_TypeFilter') as keyof ioBroker.AdapterConfig\n                                        ] as string[]\n                                    ).map((a) => String(a)),\n                                },\n                                manual: {\n                                    level: (self.config[\n                                        (notificationService + '_ManualLevelFilter') as keyof ioBroker.AdapterConfig\n                                    ] as number)\n                                        ? (self.config[\n                                              (notificationService +\n                                                  '_ManualLevelFilter') as keyof ioBroker.AdapterConfig\n                                          ] as number)\n                                        : -1,\n                                    type: ((self.config[\n                                        (notificationService + '_ManualTypeFilter') as keyof ioBroker.AdapterConfig\n                                    ] as string[])\n                                        ? (self.config[\n                                              (notificationService +\n                                                  '_ManualTypeFilter') as keyof ioBroker.AdapterConfig\n                                          ] as string[])\n                                        : []\n                                    ).map((a) => String(a)),\n                                },\n                            },\n                            adapter: self.config[\n                                (notificationService + '_Adapter') as keyof ioBroker.AdapterConfig\n                            ] as string,\n                            name: notificationService,\n                            actions: template,\n                            useadapter: true,\n                        };\n                        Object.assign(\n                            //@ts-expect-error verstehe ich nicht\n                            notificationServiceOpt[notificationService],\n                            notificationServiceDefaults[notificationService],\n                        );\n                    }\n                }\n                // hold this for some specialcases\n                if (self.config.telegram_Enabled && notificationServiceOpt.telegram != undefined) {\n                    notificationServiceOpt.telegram.withNoSound = self.config.telegram_withNoSound || false;\n                    notificationServiceOpt.telegram.userid = self.config.telegram_UserId || '';\n                    notificationServiceOpt.telegram.chatid = self.config.telegram_ChatID || '';\n                }\n                if (self.config.whatsapp_Enabled && notificationServiceOpt.whatsapp != undefined) {\n                }\n                if (self.config.pushover_Enabled && notificationServiceOpt.pushover != undefined) {\n                    notificationServiceOpt.pushover.sound = self.config.pushover_Sound || 'none';\n                    notificationServiceOpt.pushover.priority = self.config.pushover_Priority || false;\n                    notificationServiceOpt.pushover.device = self.config.pushover_Device || '';\n                }\n                if (self.config.json_Enabled && notificationServiceOpt.json != undefined) {\n                }\n                if (self.config.history_Enabled && notificationServiceOpt.history != undefined) {\n                }\n                if (self.config.email_Enabled && notificationServiceOpt.email != undefined) {\n                    notificationServiceOpt.email.actions.header = self.config.email_Header;\n                    notificationServiceOpt.email.actions.footer = self.config.email_Footer;\n                }\n                if (self.config.alexa2_Enabled && notificationServiceOpt.alexa2 != undefined) {\n                    notificationServiceOpt.alexa2.volumen =\n                        self.config.alexa2_volumen > 0 ? String(self.config.alexa2_volumen) : '';\n                    notificationServiceOpt.alexa2.audio = self.config.alexa2_Audio;\n                    notificationServiceOpt.alexa2.sounds = self.config.alexa2_sounds;\n                    notificationServiceOpt.alexa2.sounds_enabled = self.config.alexa2_sounds_enabled;\n\n                    if (self.config.alexa2_device_ids.length == 0 || !self.config.alexa2_device_ids[0]) {\n                        self.log.error(`Missing devices for alexa - deactivated`);\n                        delete notificationServiceOpt.alexa2;\n                        self.config.alexa2_Enabled = false;\n                    } else if (self.config.alexa2_Adapter == 'none') {\n                        self.log.error(`Missing adapter for alexa - deactivated`);\n                        delete notificationServiceOpt.alexa2;\n                        self.config.alexa2_Enabled = false;\n                    }\n                }\n                try {\n                    await self.providerController.createNotificationService(notificationServiceOpt);\n                } catch (error) {\n                    self.log.error(\n                        '--- Status undefined - execution interrupted - Please check your configuration. ---',\n                    );\n                    return;\n                }\n                // dwdSelectID gegen Abfrage pr\u00FCfen und erst dann als valide erkl\u00E4ren.\n                for (const a in self.config.dwdwarncellTable) {\n                    const id = self.config.dwdwarncellTable[a];\n                    if (self.config.dwdEnabled) {\n                        if (id.dwdSelectId < 10000 && isNaN(id.dwdSelectId)) {\n                            self.log.warn(`DWD is activated, but no valid warning cell is configured.`);\n                            continue;\n                        }\n                        const options: messageFilterTypeWithFilter & {\n                            [key: string]: any;\n                        } = {\n                            filter: {\n                                type: self.config.dwdTypeFilter,\n                                level: self.config.dwdLevelFilter,\n                                hours: self.config.dwdHourFilter,\n                            },\n                        };\n                        self.log.info('DWD activated. Retrieve data.');\n                        self.providerController.createProviderIfNotExist({\n                            ...options,\n                            service: 'dwdService',\n                            customName: id.dwdCityname,\n                            warncellId: String(id.dwdSelectId),\n                            providerController: self.providerController,\n                            language: self.config.dwdLanguage,\n                        });\n                    }\n                }\n\n                for (const a in self.config.zamgwarncellTable) {\n                    const id = self.config.zamgwarncellTable[a];\n                    if (self.config.zamgEnabled && id && typeof id.zamgSelectId == 'string') {\n                        self.log.info('ZAMG activated. Retrieve data.');\n                        const options: messageFilterTypeWithFilter & {\n                            [key: string]: any;\n                        } = {\n                            filter: {\n                                type: self.config.zamgTypeFilter,\n                                level: self.config.zamgLevelFilter,\n                                hours: self.config.zamgHourFilter,\n                            },\n                        };\n                        const zamgArr = id.zamgSelectId.split('/') as [string, string];\n                        if (zamgArr.length == 2) {\n                            self.providerController.createProviderIfNotExist({\n                                ...options,\n                                service: 'zamgService',\n                                warncellId: zamgArr,\n                                language: self.config.zamgLanguage,\n                                providerController: self.providerController,\n                                customName: id.zamgCityname,\n                            });\n                        }\n                    }\n                }\n                for (const a in self.config.uwzwarncellTable) {\n                    const id = self.config.uwzwarncellTable[a];\n                    if (self.config.uwzEnabled && !!id.uwzSelectId) {\n                        const options: messageFilterTypeWithFilter = {\n                            filter: {\n                                type: self.config.uwzTypeFilter,\n                                level: self.config.uwzLevelFilter,\n                                hours: self.config.uwzHourFilter,\n                            },\n                        };\n                        self.log.info('UWZ activated. Retrieve data.');\n                        self.providerController.createProviderIfNotExist({\n                            ...options,\n                            service: 'uwzService',\n                            warncellId: 'UWZ' + id.uwzSelectId.toUpperCase(), //UWZ + Land + PLZ\n                            providerController: self.providerController,\n                            language: self.config.uwzLanguage,\n                            customName: id.uwzCityname,\n                        });\n                    }\n                }\n\n                //clear tree\n                const holdStates = [];\n                for (const a in self.providerController.providers) {\n                    holdStates.push(self.providerController.providers[a].name);\n                }\n                await self.library.cleanUpTree(holdStates, 3);\n\n                self.providerController.updateCommandStates();\n\n                self.providerController.updateEndless(self.providerController);\n                self.providerController.updateAlertEndless(self.providerController);\n            },\n            4000,\n            this,\n        );\n    }\n\n    /**\n     * Is called when adapter shuts down - callback has to be called under any circumstances!\n     */\n    private onUnload(callback: () => void): void {\n        try {\n            if (this.providerController) this.providerController.delete();\n            callback();\n        } catch (e) {\n            callback();\n        }\n    }\n\n    /**\n     * Respond to language changes.\n     */\n    private async onObjectChange(id: string, obj: ioBroker.Object | null | undefined): Promise<void> {\n        if (obj) {\n            // The object was changed\n            if (id == 'system.config') {\n                if (await this.library.setLanguage(obj.common.language)) {\n                    if (this.providerController) this.providerController.updateMesssages();\n                }\n            }\n        }\n    }\n\n    /**\n     * Is called if a subscribed state changes\n     * We need this later, dont remove\n     */\n    private onStateChange(id: string, state: ioBroker.State | null | undefined): void {\n        if (!state) return;\n        if (state.ack) return;\n        this.library.setdb(id.replace(`${this.namespace}.`, ''), 'state', state.val, undefined, state.ack, state.ts);\n        if (this.providerController) this.providerController.onStatePush(id);\n    }\n\n    /**\n     * Some message was sent to this instance over message box. Used by email, pushover, text2speech, ...\n     * Using this method requires \"common.messagebox\" property to be set to true in io-package.json\n     */\n    private async onMessage(obj: ioBroker.Message): Promise<void> {\n        if (typeof obj === 'object' && obj.message) {\n            this.log.debug(`Retrieve ${obj.command} from ${obj.from} message: ${JSON.stringify(obj)}`);\n            let connected = true;\n            let state;\n            switch (String(obj.command)) {\n                case 'alexa_audio':\n                    {\n                        this.sendTo(\n                            obj.from,\n                            obj.command,\n                            {\n                                openUrl:\n                                    'https://developer.amazon.com/en-US/docs/alexa/custom-skills/ask-soundlibrary.html',\n                                window: '_blank',\n                            },\n                            obj.callback,\n                        );\n                    }\n                    break;\n                case 'alexa2_device_ids':\n                    {\n                        const data: any[] = [];\n                        if (obj.message.adapter != 'none') {\n                            /* Wenn Doku oder testbar dann so:\n                            const test = await this.getObjectViewAsync('system', 'device', {\n                                startkey: `${obj.message.adapter}.`,\n                                endkey: `${obj.message.adapter}.\\u9999`,\n                            });\n                            */\n                            const objs = await this.getForeignObjectsAsync(obj.message.adapter + '.Echo-Devices.*');\n                            for (const a in objs) {\n                                if (a.endsWith('.Commands.announcement')) {\n                                    const channel = await this.getForeignObjectAsync(\n                                        a.split('.').slice(0, 4).join('.'),\n                                    );\n                                    data.push({\n                                        value: a.split('.')[3],\n                                        label: channel ? channel.common.name : '',\n                                    });\n                                }\n                            }\n                        }\n\n                        this.sendTo(obj.from, obj.command, data, obj.callback);\n                    }\n                    break;\n\n                /** defaults for templates */\n\n                case 'restoreDefault':\n                    {\n                        let data: any = {};\n                        if (obj.message.service == 'template') {\n                            data = {\n                                native: {\n                                    templateTable: this.library.cloneGenericObject(io_package.native.templateTable),\n                                },\n                            };\n                            for (const a in data.native.templateTable) {\n                                const key = `template.${data.native.templateTable[a].templateKey}`;\n                                data.native.templateTable[a].template = await this.library.getTranslation(key);\n                            }\n                        } else {\n                            data = { native: {} };\n                            [\n                                `${obj.message.service}_MessageNew`,\n                                `${obj.message.service}_MessageRemove`,\n                                `${obj.message.service}_MessageAllRemove`,\n                                `${obj.message.service}_MessageAll`,\n                            ].forEach((a) => {\n                                data.native[a] = io_package.native[a as keyof typeof io_package.native];\n                            });\n                        }\n                        this.sendTo(obj.from, obj.command, data, obj.callback);\n                    }\n                    break;\n                case 'Messages':\n                    {\n                        if (obj.message.service) {\n                            const templates = this.config.templateTable;\n                            const reply = [\n                                {\n                                    label: `none`,\n                                    value: `none`,\n                                },\n                            ];\n                            for (const a in templates) {\n                                const t = templates[a];\n                                if (t.templateKey !== '' && !t.templateKey.startsWith('_')) {\n                                    reply.push({\n                                        label: `${t.templateKey}`,\n                                        value: `${t.templateKey}`,\n                                    });\n                                }\n                            }\n                            //this.log.debug(obj.command + ': ' + JSON.stringify(reply));\n                            this.sendTo(obj.from, obj.command, reply, obj.callback);\n                        } else {\n                            this.sendTo(obj.from, obj.command, [], obj.callback);\n                            this.log.warn(\n                                `warn(44): Retrieve message with ${obj.command}, but without obj.message.service`,\n                            );\n                        }\n                    }\n\n                    break;\n                case 'notificationService':\n                    {\n                        if (obj.message && obj.message.service) {\n                            const temp: { [key: number]: boolean } = {};\n                            try {\n                                const objs = await this.getObjectViewAsync('system', 'instance', {\n                                    startkey: `system.adapter.${obj.message.service}.`,\n                                    endkey: `system.adapter.${obj.message.service}.\\u9999`,\n                                });\n\n                                if (objs && objs.rows) {\n                                    for (const a in objs.rows) {\n                                        const instance = Number(objs.rows[a].id.split('.')[3]);\n                                        if (instance !== undefined) {\n                                            temp[instance] = true;\n                                        }\n                                    }\n                                }\n                            } catch (error) {\n                                this.log.error(`error(44): ${error}`);\n                            }\n\n                            const reply = [{ label: 'none', value: 'none' }];\n\n                            for (const t in temp) {\n                                reply.push({\n                                    label: `${obj.message.service}.${t}`,\n                                    value: `${obj.message.service}.${t}`,\n                                });\n                            }\n                            //this.log.debug(obj.command + ': ' + JSON.stringify(reply));\n                            this.sendTo(obj.from, obj.command, reply, obj.callback);\n                        }\n                    }\n                    break;\n                case 'templateHelp':\n                    if (obj.callback) {\n                        let reply = 'Tokens: ';\n\n                        for (const a in messagesDef.customFormatedTokensJson) {\n                            reply +=\n                                '${' +\n                                a +\n                                '}: ' +\n                                ((await this.library.getTranslation(\n                                    messagesDef.customFormatedTokensJson[a as keyof messagesDef.customFormatedTokens],\n                                )) +\n                                    ' - / - ');\n                        }\n                        reply = reply.slice(0, -7);\n                        this.sendTo(obj.from, obj.command, reply, obj.callback);\n                    }\n                    break;\n                case 'filterLevel':\n                    if (obj.callback) {\n                        const reply = [];\n                        const text = messagesDef.textLevels.textGeneric;\n                        for (const a in text) {\n                            if (Number(a) == 5) break;\n                            reply.push({\n                                label: await this.library.getTranslation(\n                                    messagesDef.textLevels.textGeneric[a as keyof typeof text],\n                                ),\n                                value: Number(a),\n                            });\n                        }\n                        //this.log.debug(obj.command + ': ' + JSON.stringify(reply));\n                        this.sendTo(obj.from, obj.command, reply, obj.callback);\n                    }\n                    break;\n                case 'filterType':\n                    if (obj.callback) {\n                        const reply = [];\n                        if (\n                            obj.message &&\n                            obj.message.service &&\n                            providerServicesArray.indexOf(obj.message.service) != -1\n                        ) {\n                            const service = obj.message.service as 'dwdService' | 'uwzService' | 'zamgService';\n                            for (const b in messagesDef.genericWarntyp) {\n                                const a = Number(b) as keyof messagesDef.genericWarntypeType;\n                                if (\n                                    messagesDef.genericWarntyp[a][service] !== undefined &&\n                                    messagesDef.genericWarntyp[a][service].length > 0\n                                ) {\n                                    reply.push({\n                                        label: await this.library.getTranslation(messagesDef.genericWarntyp[a].name),\n                                        value: a,\n                                    });\n                                }\n                            }\n                        } else if (\n                            obj.message &&\n                            obj.message.service &&\n                            NotificationType.Array.indexOf(obj.message.service) != -1\n                        ) {\n                            for (const b in messagesDef.genericWarntyp) {\n                                const a = Number(b) as keyof messagesDef.genericWarntypeType;\n                                reply.push({\n                                    label: await this.library.getTranslation(messagesDef.genericWarntyp[a].name),\n                                    value: a,\n                                });\n                            }\n                        }\n                        //this.log.debug(obj.command + ': ' + JSON.stringify(reply));\n                        this.sendTo(obj.from, obj.command, reply, obj.callback);\n                    }\n                    break;\n                case 'dwd.name':\n                case 'dwd.check':\n                case 'dwd.name.text':\n                    {\n                        //debounce\n                        if (this.adminTimeoutRef) {\n                            this.clearTimeout(this.adminTimeoutRef);\n                            this.adminTimeoutRef = this.setTimeout(this.dwdWarncellIdLongHelper, 2000, {\n                                obj: obj,\n                                that: this,\n                            });\n                        } else {\n                            this.dwdWarncellIdLongHelper({\n                                obj: obj,\n                                that: this,\n                            });\n                            this.adminTimeoutRef = this.setTimeout(\n                                (that: any) => (that.adminTimeoutRef = null),\n                                2000,\n                                this,\n                            );\n                        }\n                    }\n                    break;\n                case 'test':\n                    this.log.debug(`Retrieve test message!`);\n                    this.sendTo(obj.from, 'test', 'Test Message', obj.callback);\n                    break;\n                /**testing online */\n                case 'test-connection':\n                    if (obj.from !== 'system.adapter.test.0') {\n                        this.sendTo(obj.from, obj.command, 'Dont use this command!', obj.callback);\n                        return;\n                    }\n                    this.log.debug(`Retrieve test-connection message!`);\n                    connected = true;\n                    [\n                        'provider.dwd.info.connection',\n                        'provider.uwz.info.connection',\n                        'provider.zamg.info.connection',\n                        'info.connection',\n                    ].forEach((a) => {\n                        state = this.library.readdp(a);\n                        if (state) connected = connected && !!state.val;\n                    });\n                    // connected === true is right\n                    this.sendTo(obj.from, obj.command, connected ? 'true' : 'false', obj.callback);\n                    break;\n                /** testing with testdata and switch then to online */\n                case 'test-data':\n                    if (obj.from !== 'system.adapter.test.0') {\n                        this.sendTo(obj.from, obj.command, 'Dont use this command!', obj.callback);\n                        return;\n                    }\n                    connected = false;\n                    [\n                        'provider.dwd.info.connection',\n                        'provider.uwz.info.connection',\n                        'provider.zamg.info.connection',\n                        'info.connection',\n                    ].forEach((a) => {\n                        state = this.library.readdp(a);\n                        if (state) connected = connected || !!state.val;\n                    });\n                    state = this.library.readdp('provider.activeWarnings');\n                    if (state) connected = !!connected || !(state.val && Number(state.val) >= 4);\n                    else connected = true; //error\n                    // connected === false is right\n                    this.sendTo(\n                        obj.from,\n                        obj.command,\n                        !connected\n                            ? 'ok'\n                            : `connect: ${connected} (false) activeWarnings ${state ? state.val : 'undefined'} (>=4)`,\n                        obj.callback,\n                    );\n                    this.config.useTestWarnings = false;\n                    break;\n                default:\n                    this.sendTo(obj.from, obj.command, 'unknown message', obj.callback);\n                    this.log.debug(\n                        `Retrieve unknown command ${obj.command} messsage: ${JSON.stringify(obj.message)} from ${\n                            obj.from\n                        }`,\n                    );\n            }\n        }\n    }\n    dwdWarncellIdLongHelper(obj1: any): void {\n        const obj = obj1.obj as ioBroker.Message;\n        const that = obj1.that as WeatherWarnings;\n        if (obj.callback) {\n            const data = dwdWarncellIdLong;\n            //if (!data) data = await axios.get(that.config.dwdWarncellTextUrl);\n            const text: any[] = [];\n            if (text.length == 0) {\n                const dataArray: string[] = data.split('\\n');\n\n                dataArray.splice(0, 1);\n                dataArray.forEach((element) => {\n                    const value = element.split(';')[0];\n                    const cityText = element.split(';')[1];\n                    //const cityText = element.split(';')[2];\n                    if (\n                        value &&\n                        (value.startsWith('10') ||\n                            value.startsWith('9') ||\n                            value.startsWith('8') ||\n                            value.startsWith('7'))\n                    ) {\n                        if (text) text.push({ label: cityText, value: value.trim() });\n                    }\n                });\n                text.sort((a, b) => {\n                    const nameA = a.label.toUpperCase(); // ignore upper and lowercase\n                    const nameB = b.label.toUpperCase(); // ignore upper and lowercase\n                    if (nameA < nameB) {\n                        return -1;\n                    }\n                    if (nameA > nameB) {\n                        return 1;\n                    }\n\n                    return 0;\n                });\n            }\n            const msg = obj.message;\n            if (msg.dwd.length > 2) {\n                const result = text.filter(\n                    (a) =>\n                        (a.label && a.label.toUpperCase().includes(msg.dwd.toUpperCase())) ||\n                        (!isNaN(msg.dwd) && Number(a.value) == Number(msg.dwd)),\n                );\n                //if (result.length == 1) that.config.dwdSelectId = result[0].value;\n\n                if (obj.command == 'dwd.name') that.sendTo(obj.from, obj.command, result, obj.callback);\n                else if (obj.command == 'dwd.name.text' || obj.command == 'dwd.check')\n                    that.sendTo(obj.from, obj.command, result.length == 1 ? result[0].label : '', obj.callback);\n            } else {\n                if (obj.command == 'dwd.name.text' || obj.command == 'dwd.check')\n                    that.sendTo(obj.from, obj.command, '', obj.callback);\n                else that.sendTo(obj.from, obj.command, text, obj.callback);\n            }\n            that.adminTimeoutRef = null;\n        }\n    }\n}\nif (require.main !== module) {\n    // Export the constructor in compact mode\n\n    module.exports = (options: WeatherWarnings | undefined) =>\n        //@ts-expect-error no idea why options need log\n        new WeatherWarnings(options);\n} else {\n    // otherwise start the instance directly\n    (() => new WeatherWarnings())();\n}\nexport = WeatherWarnings;\n"],
  "mappings": "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",
  "names": ["axios", "index", "a", "io_package"]
}
